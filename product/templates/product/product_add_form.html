 {% extends 'base/base.html' %}
{% load static %}

{% block add_product_cs %}
<link rel="stylesheet" type="text/css" href="{% static 'product/css/addProduct.css' %}">
{% endblock %}

{% block content %}

<div class="container">

        <h1>Add New Product</h1>
        <form id="add-product-form">
            <div class="form-group">
                <label for="product-name">Product Name*</label>
                <input type="text" id="product-name" name="name" required placeholder="Enter product name">
            </div>

            <div class="form-group">
                <label for="product-cost">Cost (₹)*</label>
                <div class="cost-input-container">
                    <span class="rupee-sign">₹</span>
                    <input type="number" id="product-cost" name="cost" step="0.01" min="0" required placeholder="Enter product cost">
                </div>
            </div>

            <div class="form-group">
                <label for="product-feedback">Feedback</label>
                <textarea id="product-feedback" name="feedback" placeholder="Enter customer feedback or reviews"></textarea>
            </div>

            <div class="form-group">
                <label for="product-details">Product Details</label>
                <textarea id="product-details" name="details" placeholder="Enter product description, specifications, etc."></textarea>
            </div>

            <div class="form-group">
                <label for="product-image">Product Image</label>
                <input type="file" id="product-image" name="image" accept="image/*">
                <div class="image-preview" id="image-preview">
                    <span class="image-preview-text">Image preview will appear here</span>
                    <img src="/api/placeholder/400/320" alt="preview" id="preview-image">
                </div>
            </div>

            <div class="form-group">
                <label for="product-stock">Stock Quantity*</label>
                <input type="number" id="product-stock" name="stock" min="0" required placeholder="Enter available stock">
            </div>

            <button type="submit" class="btn-submit">Add Product</button>
        </form>
    </div>

    <script>
        // Image preview functionality
        const imageInput = document.getElementById('product-image');
        const previewImage = document.getElementById('preview-image');
        const previewText = document.querySelector('.image-preview-text');

        imageInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();

                reader.addEventListener('load', function() {
                    previewImage.setAttribute('src', this.result);
                    previewImage.style.display = 'block';
                    previewText.style.display = 'none';
                });

                reader.readAsDataURL(file);
            }
        });

        // Form submission (prevent default for demo)
        const form = document.getElementById('add-product-form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Product would be submitted here. This is just a demo.');
            // In a real application, you would collect the form data and submit it to your server
        });
    </script>
{% endblock %}