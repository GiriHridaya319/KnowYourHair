{% extends "base/base.html" %}

{% load static %}

{% block navbar_css %}
<link rel="stylesheet" type="text/css" href="{% static 'base/css/home.css' %}">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
<!-- Add ScrollReveal -->
<script src="https://unpkg.com/scrollreveal"></script>
{% endblock %}


{% block scripts %}
<script src="{% static 'base/js/main.js' %}"></script>
{% endblock %}

{% block content %}


 <header class="header__container">
      <div class="header__image">
        <div class="header__image__card header__image__card-1">
          <span><i class="ri-key-line"></i></span>
          Prediction
        </div>
        <div class="header__image__card header__image__card-2">
          <span><i class="ri-passport-line"></i></span>
          Products
        </div>
        <div class="header__image__card header__image__card-3">
          <span><i class="ri-map-2-line"></i></span>
          Clinics
        </div>
        <div class="header__image__card header__image__card-4">
          <span><i class="ri-guide-line"></i></span>
          Recommendation
        </div>
        <img src="{% static 'base/images/main.png' %}" alt="header" />

      </div>
      <div class="header__content">
          {% if user.is_authenticated %}
          <h1>HELLO <span>{{ request.user.username }}</span></h1>
          {% else %}
        <h1>UNLOCK YOUR<br /> <span>HAIR'S FUTURE </span> </h1><h2>DISCOVER, PREVENT, AND REVIVE.</h2>
        <p>
          Get a personalized hair fall risk assessment in seconds!
          Discover expert recommendations tailored to your hair type.
          Shop premium hair care products and connect with top clinics.
        </p>
          {% endif %}
        <form action="/">
          <div class="action__box">
      <div class="action__text">
        <h3>Ready To Transform Your Hair Care Journey?</h3>
        <p>Take our scientifically-backed assessment to get started</p>
      </div>
      <a href="{% url 'KnowYourHair-hairfallprediction' %}" class="shop-btn">
        Take the Quiz <i class="ri-arrow-right-line"></i>
      </a>
    </div>
        </form>


      </div>
    </header>


<section class="services-container">
    <div class="service-heading">
      <h2>Our Professional Hair Care Services</h2>
      <p>Discover the best way to care for your hair with expert-recommended treatments, clinics, and products tailored to your needs.</p>
    </div>

    <div class="service-cards">
      <!-- Card 1: Consultation -->
      <div class="care-card">
        <div class="card-image">
          <img src="{% static 'base/images/dermatologstGroup.jpg' %}" alt="header" />
          <div class="card-overlay"></div>
          <div class="card-icon">
            <i class="fas fa-user-md"></i>
          </div>
        </div>
        <div class="card-content">
          <h3 class="card-title">Connect with Top Dermatologists</h3>
          <p class="card-description">Book an appointment with the best dermatologists in Nepal's top clinics for personalized hair and scalp care.</p>
          <ul class="features-list">
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Consult certified experts</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Personalized hair treatment plans</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>In-clinic and virtual appointments</span>
            </li>
          </ul>

            <a href="{% url 'dermatologist'  %}" class="consult-btn">
                <i class="fas fa-calendar-check"></i> Book Now</a>
        </div>
      </div>

      <!-- Card 2: Shop Products -->
      <div class="care-card">
        <div class="card-image">
          <img src="{% static 'base/images/haircare.jpg' %}" alt="header" />
          <div class="card-overlay"></div>
          <div class="card-icon">
            <i class="fas fa-pills"></i>
          </div>
        </div>
        <div class="card-content">
          <h3 class="card-title">Best Hair Care Products</h3>
          <p class="card-description">Find the best dermatologist-approved hair care products tailored to your hair type and concerns.</p>
          <ul class="features-list">
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Recommended by experts</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Solutions tailored to your needs</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Get recommendations based on your hair fall risk</span>
            </li>
          </ul>
          <a href="{% url 'KnowYourHair-product' %}" class="shop-btn">
            <i class="fas fa-shopping-cart"></i> View Products
          </a>
        </div>
      </div>

      <!-- Card 3: Find a Clinic -->
      <div class="care-card">
        <div class="card-image">
          <img src="{% static 'base/images/clinics.jpeg' %}" alt="header" />
          <div class="card-overlay"></div>
          <div class="card-icon">
            <i class="fas fa-hospital"></i>
          </div>
        </div>
        <div class="card-content">
          <h3 class="card-title">Find the Best Clinics in Nepal</h3>
          <p class="card-description">Easily locate top-rated clinics across Nepal and book an in-person consultation for your hair care needs.</p>
          <ul class="features-list">
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Clinics trusted by dermatologists</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Convenient online booking</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Personalized clinic recommendations</span>
            </li>
          </ul>
          <a href="{% url 'KnowYourHair-clinic' %}" class="consult-btn">
            <i class="fas fa-map-marker-alt"></i> Find a Clinic
          </a>
        </div>
      </div>

      <!-- Card 4: Hair Loss Risk Assessment -->
      <div class="care-card">
        <div class="card-image">
          <img src="{% static 'base/images/hairfall.jpg' %}" alt="header" />
          <div class="card-overlay"></div>
          <div class="card-icon">
            <i class="fas fa-diagnoses"></i>
          </div>
        </div>
        <div class="card-content">
          <h3 class="card-title">Future Hair Loss Risk & Age Prediction</h3>
          <p class="card-description">Take our AI-powered quiz to predict your hair loss risk and get expert-backed preventive measures.</p>
          <ul class="features-list">
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>AI-driven hair health assessment</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Personalized prevention strategies</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-check-circle feature-icon"></i>
              <span>Predict future hair health based on age</span>
            </li>
          </ul>
          <a href="{% url 'KnowYourHair-hairfallprediction' %}" class="consult-btn">
            <i class="fas fa-question-circle"></i> Take the Quiz
          </a>
        </div>
      </div>
    </div>
  </section>

{% if not request.user.profile.agent %}
<section class="agent-sections">
        <div class="container-agents">
            <div class="agent-wrappers">
                <div class="agent-contents">
                    <h6>Join as a <span class="highlight">Staff</span> <span class="blue-text">Agent</span></h6>
                    <p>Become an essential part of our healthcare platform as a Clinic Agent. Once registered and approved, you'll have complete control to manage every aspect of your dermatology clinics through a powerful all-in-one dashboard.</p>

                    <div class="management-features">
                        <h3>Complete Management System</h3>
                        <div class="feature-list">
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-clinic-medical"></i>
                                </div>
                                <p>Add Multiple Clinics</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-flask"></i>
                                </div>
                                <p>Manage Products</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <p>Register Dermatologists</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <p>Handle All Bookings</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <p>Track Performance</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <p>Customize Settings</p>
                            </div>
                        </div>
                    </div>

                    <div class="benefits">
                        <div class="benefit-card">
                            <div class="benefit-icon">
                                <i class="fas fa-box-open"></i>
                            </div>
                            <h3>Product Management</h3>
                            <p>Add, edit, and showcase your clinic's products with descriptions, pricing, and availability.</p>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">
                                <i class="fas fa-hospital"></i>
                            </div>
                            <h3>Clinic Information</h3>
                            <p>Manage detailed profiles for each of your clinics including location, services, and operating hours.</p>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <h3>Booking System</h3>
                            <p>Receive, confirm, reschedule, and track all patient bookings from a centralized dashboard.</p>
                        </div>
                    </div>

                    <div class="process-steps">
                        <h3>How to Get Started</h3>
                        <div class="steps">
                            <div class="step">
                                <div class="step-number">1</div>
                                <h4>Register</h4>
                                <p>Complete the staff registration form with your credentials</p>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <h4>Approval</h4>
                                <p>Admin team reviews and activates your agent account</p>
                            </div>
                            <div class="step">
                                <div class="step-number">3</div>
                                <h4>Add Details</h4>
                                <p>Set up your clinics, products, and dermatologists</p>
                            </div>
                            <div class="step">
                                <div class="step-number">4</div>
                                <h4>Go Live</h4>
                                <p>Start receiving and managing patient bookings</p>
                            </div>
                        </div>
                    </div>

                    <a href="{% url 'registration' %}" class="cta-button">Register as Staff Agent</a>
                    <a href="#" class="secondary-button">View Demo</a>
                </div>

                <div class="agent-image">
                    <div class="image-container">
                        <img src="{% static 'base/images/agent.jpeg' %}" alt="header" />
                        <div class="accent-box"></div>
                        <div class="accent-circle"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endif %}



<section class="product-section-feature">
  <h2 class="product-heading-feature">Featured Products</h2>

  <div class="slider-container-feature">
    <div class="slider-track-feature">
      {% for product in products %}
        {% if product.status == 'Approved' %}
          <div class="product-card-feature">
            <a href="{% url 'recom-product-detail' product.slug %}" class="product-link-feature">
              <div class="image-wrapper-feature">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image-feature">
              </div>
              <h3 class="product-name-feature">{{ product.name |truncatewords:10 }}</h3>
              <div class="product-price-feature">{{ product.cost }}</div>

            </a>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <div class="nav-buttons-feature">
    <button class="nav-button-feature prev-btn" aria-label="Previous">←</button>
    <button class="nav-button-feature next-btn" aria-label="Next">→</button>
  </div>
</section>


<section class="kyh-testimonials-section">
        <div class="kyh-testimonials-container">
            <div class="kyh-testimonials-header">
                <h2 class="kyh-testimonials-title">Success Stories from Our Users</h2>
                <p class="kyh-testimonials-subtitle">See how KnowYourHair has helped people take control of their hair health journey with personalized predictions and prevention strategies.</p>
            </div>

            <div class="kyh-testimonials-grid">
                <!-- Testimonial Card 1 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="James Williams" class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">James Williams</h3>
                            <p class="kyh-testimonial-info">34 years old • Surkhet</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★★
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">KnowYourHair predicted I had a high risk of hair loss by age 38. The dermatologist confirmed this and recommended products that have significantly improved my hair density. The prediction was spot on!</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">3 months ago</span>
                            <span class="kyh-testimonial-result kyh-result-high">High Risk</span>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Card 2 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="Raj Bahadur" class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">Raj Bahadur</h3>
                            <p class="kyh-testimonial-info">27 years old • Kathmandu</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★☆
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">I was skeptical at first but the medium risk assessment was accurate. The product recommendations helped reduce my hair fall by almost 60%! The online consultation saved me a trip to the clinic.</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">1 month ago</span>
                            <span class="kyh-testimonial-result kyh-result-medium">Medium Risk</span>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Card 3 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="Chandra prasad " class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">Chandra Prasad</h3>
                            <p class="kyh-testimonial-info">42 years old • Nepalgunj</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★★
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">Already experiencing hair loss, the system accurately assessed my condition and connected me with Dr. Mehra who provided an excellent treatment plan. The convenience of booking appointments through the app is fantastic!</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">2 months ago</span>
                            <span class="kyh-testimonial-result kyh-result-high">High Risk</span>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Card 4 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="Pabisha Bhatta" class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">Pabisha Bhatta</h3>
                            <p class="kyh-testimonial-info">21 years old • Dhangadi</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★★
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">I was relieved to get a low risk assessment. Still, the prevention tips are helping me maintain healthy hair. The nutritional advice and product recommendations are working wonders for my hair volume!</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">5 months ago</span>
                            <span class="kyh-testimonial-result kyh-result-low">Low Risk</span>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Card 5 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="Mohan Giri " class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">Mohan Giri</h3>
                            <p class="kyh-testimonial-info">39 years old • Chennai</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★☆
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">KnowYourHair predicted medium risk with potential hair loss starting at age 45. The recommended products are affordable and effective. I appreciate the detailed explanations about prevention strategies.</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">4 months ago</span>
                            <span class="kyh-testimonial-result kyh-result-medium">Medium Risk</span>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Card 6 -->
                <div class="kyh-testimonial-card">
                    <div class="kyh-testimonial-tag">Verified</div>
                    <div class="kyh-testimonial-header">
                        <img src="{% static 'base/images/defaultUser.png' %}" alt="Anjali Desai" class="kyh-testimonial-avatar">
                        <div class="kyh-testimonial-user">
                            <h3 class="kyh-testimonial-name">Narayan Giri</h3>
                            <p class="kyh-testimonial-info">26 years old • Pokhara</p>
                            <div class="kyh-testimonial-rating">
                                ★★★★★
                            </div>
                        </div>
                    </div>
                    <div class="kyh-testimonial-content">
                        <p class="kyh-testimonial-text">After my prediction showed high risk due to hormonal issues, I booked an appointment with a dermatologist through the app. The treatment plan is showing amazing results after just 2 months!</p>
                        <div class="kyh-testimonial-meta">
                            <span class="kyh-testimonial-date">2 months ago</span>
                            <span class="kyh-testimonial-result kyh-result-high">High Risk</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="kyh-view-more">
                <a href="#" class="kyh-view-more-link">
                    View More Testimonials
                    <span class="kyh-arrow-icon">→</span>
                </a>
            </div>

            <div class="kyh-testimonials-cta">
                <a href="#" class="kyh-cta-button">Try KnowYourHair Today</a>
            </div>
        </div>
    </section>

    <script>
        // Simple script for testimonial cards interaction
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.kyh-testimonial-card');

            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(-5px)';
                });
            });
        });

document.addEventListener('DOMContentLoaded', function() {
  const sliderTrack = document.querySelector('.slider-track-feature');
  const prevBtn = document.querySelector('.prev-btn');
  const nextBtn = document.querySelector('.next-btn');
  const cards = document.querySelectorAll('.product-card-feature');

  let currentIndex = 0;
  const cardWidth = 304; // card width (280px) + gap (24px)
  const visibleCards = Math.floor(sliderTrack.offsetWidth / cardWidth);
  const maxIndex = Math.max(0, cards.length - visibleCards);

  function updateSliderPosition() {
    sliderTrack.style.transform = `translateX(-${currentIndex * cardWidth}px)`;

    // Update button states
    prevBtn.disabled = currentIndex === 0;
    nextBtn.disabled = currentIndex >= maxIndex;
  }

  prevBtn.addEventListener('click', () => {
    currentIndex = Math.max(0, currentIndex - 1);
    updateSliderPosition();
  });

  nextBtn.addEventListener('click', () => {
    currentIndex = Math.min(maxIndex, currentIndex + 1);
    updateSliderPosition();
  });

  // Initialize button states
  updateSliderPosition();

  // Update on window resize
  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      currentIndex = Math.min(currentIndex, maxIndex);
      updateSliderPosition();
    }, 200);
  });
});
</script>
{% endblock content%}
